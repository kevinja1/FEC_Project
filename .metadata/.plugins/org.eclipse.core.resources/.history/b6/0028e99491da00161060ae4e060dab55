package application;

import java.net.URL;
import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import java.time.LocalDate;
import java.util.ResourceBundle;

import javafx.event.Event;
import javafx.fxml.FXML;
import javafx.fxml.Initializable;
import javafx.scene.chart.BarChart;
import javafx.scene.chart.XYChart;

 
public class AMPM_Bar_ChartController implements Initializable {
	
	@FXML
	private BarChart<String,Double> barChartAttendance;
	
	Connection connection;
    private Statement statement;
    private ResultSet resultSet;
    
	
	@Override
	public void initialize(URL url, ResourceBundle rb){
		   
	}
	
	@FXML
	public void loadChart(Event event){
		try {
			String sqlQuery = "select * FROM Customers_Attendance";
			connection = SqliteConnection.Connector();
	        statement = connection.createStatement();
	        resultSet = statement.executeQuery(sqlQuery);
	        
	        XYChart.Series<String, Double> series = new XYChart.Series<>();
	   
	        while(resultSet.next()) {
	           series.getData().add(new XYChart.Data<>(resultSet.getString(2), 1.0));
	        	//System.out.println(resultSet);
	        }
	        barChartAttendance.getData().add(series);
	        
	        statement.close();
		    resultSet.close();
			connection.close();

	      
	   }
	   catch (SQLException e) {
	       e.printStackTrace();
	   }   
	}
	
	
	
	
}
